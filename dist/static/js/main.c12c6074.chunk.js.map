{"version":3,"sources":["store/actions/authActions.js","components/layout/SignedInLinks.js","components/layout/SignedOutLinks.js","components/layout/Navbar.js","components/dashboard/Notifications.js","config/departments.js","components/complaints/ComplaintSummary.js","components/complaints/ComplaintList.js","components/dashboard/Stats.js","components/dashboard/Dashboard.js","components/complaints/Reason.js","components/admin/MarkComplaint.js","store/actions/markComplaint.js","components/complaints/ComplaintDetails.js","components/auth/SignIn.js","components/auth/SignUp.js","components/complaints/AddComplaint.js","store/actions/complaintActions.js","components/complaints/DepartmentBox.js","components/complaints/ChooseDept.js","components/complaints/viewcomplaints.js","components/complaints/ComplaintAdded.js","components/complaints/History.js","components/admin/AdminLogin.js","App.js","serviceWorker.js","store/reducers/authReducer.js","store/reducers/complaintReducer.js","store/reducers/rootReducer.js","config/firebaseConfig.js","index.js"],"names":["signIn","credentials","dispatch","getState","_ref","getFirebase","auth","signInWithEmailAndPassword","email","password","then","res","type","catch","err","connect","state","signOut","_ref2","props","react_default","a","createElement","NavLink","to","className","profile","initials","firstName","lastName","onClick","style","cursor","SignedOutLinks","Navbar","elem","document","querySelector","M","Sidenav","init","edge","inDuration","_this$props","this","links","uid","layout_SignedInLinks","layout_SignedOutLinks","addButton","Link","buttonsNav","id","href","data-target","padding","margin","src","alt","Component","firebase","Notifications","notifications","map","item","key","link","user","content","against","moment","time","toDate","fromNow","departments","name","category","icon","slug","ComplaintSummary","status","complaint","department","filter","Object","keys","some","toLowerCase","includes","length","data-badge-caption","fontSize","title","createdAt","calendar","ComplaintList","complaints","marginLeft","complaints_ComplaintSummary","Stats","totalPending","totalRejected","totalResolved","i","Dashboard","allComplaints","complaints_ComplaintList","dashboard_Notifications","dashboard_Stats","Redirect","compose","isAdmin","data","firestore","ordered","filteredData","count","forEach","LIMIT","complaintFromId","push","unfilteredData","data2","filteredData2","userid","firestoreConnect","collection","orderBy","Reason","markedBy","reason","markedOn","Date","marginTop","marginBottom","markedByDesignation","toString","MarkComplaint","_Component","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","errMsg","comId","handleChange","e","target","num","parseInt","value","setState","defineProperty","handleSubmit","preventDefault","markComplaint","inherits","createClass","onSubmit","onChange","htmlFor","cols","rows","data-length","data-error","data-success","rData","markData","getFirestore","doc","set","objectSpread","ownProps","match","params","posterName","markOption","cdata","admin_MarkComplaint","isAnnonymous","complaintFromFirstName","complaintFromLastName","position","complaints_Reason","SignIn","_getPrototypeOf2","_len","arguments","args","Array","_key","apply","concat","authError","creds","SignUp","cnic","address","city","province","jobtitle","jobcompany","phonenumber","regex","test","signUp","info","newUser","_ref3","createUserWithEmailAndPassword","resp","console","log","AddComplaint","checked","addComplaint","history","complaintFrom","add","DepartmentBox","ChooseDept","searchQuery","fDept","_this$state","lowercasedFilter","placeholder","complaints_DepartmentBox","ComplaintAdded","width","History","AdminLogin","App","BrowserRouter","layout_Navbar","Switch","Route","exact","path","component","ComplaintDetails","viewcomplaints","Boolean","window","location","hostname","initState","authReducer","undefined","action","message","complaintReducer","rootReducer","combineReducers","firestoreReducer","firebaseReducer","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","settings","timestampsInSnapshots","store","createStore","applyMiddleware","thunk","withExtraArgument","reactReduxFirebase","firebaseConfig","userProfile","useFirestoreForProfile","attachAuthIsReady","reduxFirestore","ReactDOM","render","getElementById","firebaseAuthIsReady","es","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c12c6074.chunk.js","sourcesContent":["export const signIn = (credentials) => {\r\n\treturn (dispatch, getState, { getFirebase }) => {\r\n\t\tconst firebase = getFirebase();\r\n\r\n\t\tfirebase.auth().signInWithEmailAndPassword(\r\n\t\t\tcredentials.email,\r\n\t\t\tcredentials.password\r\n\t\t).then((res) => {\r\n\t\t\t// console.log(res);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'LOGIN_SUCCESS'\r\n\t\t\t});\r\n\t\t}).catch((err) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'LOGIN_ERROR',\r\n\t\t\t\terr: 'Wrong email or password'\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const signOut = () => {\r\n\treturn (dispatch, getState, { getFirebase }) => {\r\n\t\tconst firebase = getFirebase();\r\n\r\n\t\tfirebase.auth().signOut().then(() => {\r\n\t\t\tdispatch({ type: 'SIGNOUT_SUCCESS' })\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\nexport const signUp = (newUser) => {\r\n\treturn (dispatch, getState, { getFirebase, getFirestore }) => {\r\n\t\tconst firebase = getFirebase();\r\n\t\tconst firestore = getFirestore();\r\n\r\n\t\tfirebase.auth().createUserWithEmailAndPassword(\r\n\t\t\tnewUser.email,\r\n\t\t\tnewUser.password\r\n\t\t).then(resp => {\r\n\t\t\treturn firestore.collection('users').doc(resp.user.uid).set({\r\n\t\t\t\tfirstName: newUser.firstName,\r\n\t\t\t\tlastName: newUser.lastName,\r\n\t\t\t\tinitials: newUser.firstName[0] + newUser.lastName[0],\r\n\t\t\t\tcnic: newUser.cnic,\r\n\t\t\t\taddress: newUser.address,\r\n\t\t\t\tphonenumber: newUser.phonenumber\r\n\t\t\t});\r\n\t\t}).then(() => {\r\n\t\t\tdispatch({ type: 'SIGNUP_SUCCESS' });\r\n\t\t}).catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t\tdispatch({ type: 'SIGNUP_ERROR', err });\r\n\t\t});\r\n\t}\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport { signOut } from '../../store/actions/authActions'\r\n\r\nconst SignedInLinks = (props) => {\r\n    return (\r\n        <div>\r\n            <NavLink to='/' className=\"btn btn-floating cpBtn lighten-1 cp-profileDP\">\r\n                {props.profile.initials}\r\n            </NavLink>\r\n            <p className=\"menu-profile-name\">{ props.profile.firstName } { props.profile.lastName }</p>\r\n\r\n            <hr className=\"menu-separator\" />\r\n            <ul>\r\n                <li><NavLink to='/'><i className=\"material-icons\">insert_chart_outlined</i>Dashboard</NavLink></li>\r\n                <li><NavLink to='/selectdepartment'><i className=\"material-icons\">note_add</i>Add Complaint</NavLink></li>\r\n                <li><NavLink to='/view'><i className=\"material-icons\">remove_red_eye</i>View Complaints</NavLink></li>\r\n                <li><NavLink to='/history'><i className=\"material-icons\">access_time</i>History</NavLink></li>\r\n                <li><a onClick = {props.signOut} style={{cursor: 'pointer'}}><i className=\"material-icons\">exit_to_app</i>Log Out</a></li>\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        signOut: () => dispatch (signOut())\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignedInLinks);","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst SignedOutLinks = () => {\r\n\treturn (\r\n\t\t<ul>\r\n\t\t\t<li><NavLink to='/signin'>Login</NavLink></li>\r\n\t\t\t<li><NavLink to='/register'>Register</NavLink></li>\r\n\t\t\t<li><NavLink to='/loginAsAdmin'>Admin</NavLink></li>\r\n\t\t</ul>\r\n\t);\r\n}\r\n\r\nexport default SignedOutLinks;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport SignedInLinks from './SignedInLinks';\r\nimport SignedOutLinks from './SignedOutLinks';\r\nimport { connect } from 'react-redux'\r\nimport M from 'materialize-css/dist/js/materialize.min.js'\r\n\r\nclass Navbar extends Component {\r\n\tcomponentDidMount(){\r\n\t\tvar elem = document.querySelector(\".sidenav\");\r\n\t\tvar instance = M.Sidenav.init(elem, {\r\n\t\t\t\tedge: \"left\",\r\n\t\t\t\tinDuration: 250\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { auth, profile } = this.props;\r\n\t\t// console.log(profile);\r\n\t\tconst links = auth.uid ? <SignedInLinks profile={profile} /> : <SignedOutLinks />;\r\n\t\tconst addButton = <li><Link to='/selectdepartment'><div className=\"waves-effect waves-light btn cp-button\">Add A Complaint</div></Link></li>;\r\n\t\tconst buttonsNav = auth.uid ? addButton : '';\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<nav className=\"nav-wrapper grey darken-3\">\r\n\t\t\t\t\t<div className=\"container cpContent\">\r\n\t\t\t\t\t\t<ul id=\"nav-mobile\" className=\"left\">\r\n\t\t\t\t\t\t\t<a href=\"#\" data-target=\"slide-out\"  style={{ padding: 0, margin: 0 }} className=\"sidenav-trigger full hide-on-large-only\">\r\n\t\t\t\t\t\t\t\t<i className=\"material-icons\">menu</i>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<ul className=\"right\">\r\n\t\t\t\t\t\t\t{buttonsNav}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</nav>\r\n\t\t\t\t<ul id=\"slide-out\" className=\"sidenav sidenav-fixed cp-menu\">\r\n\t\t\t\t\t<Link to='/'><img src=\"/images/logo.png\" alt=\"Citizen Portal\" className=\"cp-logo\" /></Link>\r\n\t\t\t\t\t<hr className=\"menuLine\" />\r\n\t\t\t\t\t{links}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\t// console.log(state);\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tprofile: state.firebase.profile\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Navbar)","import React from 'react'\r\nimport moment from 'moment'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Notifications = (props) => {\r\n  const { notifications } = props;\r\n  return (\r\n    <div className=\"section\">\r\n      <div className=\"card z-depth-0\">\r\n        <div className=\"card-content\">\r\n          <span className=\"card-title\">Notifications</span>\r\n          <ul className=\"online-users\">\r\n            { notifications && notifications.map(item =>{\r\n              return <li key={item.id}>\r\n              <Link to={\"/complaint/\"+ item.link}>\r\n                <span className=\"pink-text\">{item.user} </span>\r\n                <span>{item.content} against {item.against}</span>\r\n                <div className=\"note-date grey-text\">{moment(item.time.toDate()).fromNow()}</div>\r\n                </Link>\r\n              </li>\r\n\r\n            })}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notifications","const departments = [\r\n        {\r\n            name: 'Transport',\r\n            category: 'Transport',\r\n            icon: 'directions_bus',\r\n            slug: 'transport'\r\n        },\r\n        {\r\n            name: 'Education',\r\n            category: 'Education',\r\n            icon: 'school',\r\n            slug: 'edu'\r\n        },\r\n        {\r\n            name: 'Health',\r\n            category: 'Health',\r\n            icon: 'local_hospital',\r\n            slug: 'health'\r\n        },\r\n        {\r\n            name: 'Tax',\r\n            category: 'Finance',\r\n            icon: 'attach_money',\r\n            slug: 'tax'\r\n        },\r\n        {\r\n            name: 'Wapda',\r\n            category: 'Billing',\r\n            icon: 'graphic_eq',\r\n            slug: 'wapda'\r\n        },\r\n        {\r\n            name: 'Traffic Police',\r\n            category: 'police',\r\n            icon: 'time_to_leave',\r\n            slug: 'trafficPolice'\r\n        },\r\n        {\r\n            name: 'Municipal Department',\r\n            category: 'municipal',\r\n            icon: 'location_city',\r\n            slug: 'municipal'\r\n        },\r\n        {\r\n            name: 'Rescue Department',\r\n            category: 'rescue',\r\n            icon: 'whatshot',\r\n            slug: 'rescue'\r\n        },\r\n        {\r\n            name: 'Justice Department',\r\n            category: 'justice',\r\n            icon: 'account_balance',\r\n            slug: 'justice'\r\n        }\r\n    ]\r\n\r\nexport default departments;","import React from 'react';\r\nimport moment from 'moment';\r\nimport departments from '../../config/departments'\r\n\r\nconst ComplaintSummary = ({complaint}) => {\r\n    var department = departments.filter(item => {\r\n        return Object.keys(item).some(key =>\r\n          item[key].toLowerCase().includes(complaint.department)\r\n        );\r\n    });\r\n    if(department.length < 1){\r\n        department = [{name: 'No Department'}]\r\n    }\r\n    var status;\r\n    if(complaint){\r\n        status = complaint.status === 0 ? \r\n                    <span className=\"new badge blue\" data-badge-caption=\"\">Pending</span> : \r\n                    complaint.status === 1 ? \r\n                    <span className=\"new badge\" data-badge-caption=\"\">Resolved</span> : \r\n                    <span className=\"new badge red\" data-badge-caption=\"\">Rejected</span>;\r\n    }\r\n    return (\r\n            <div className=\"card z-depth-0 complaint-summary \">\r\n                <div className=\"card-content grey-text text-darken-3\">\r\n                    <span className=\"right text-lighten-3\" style={{fontSize: 14}}>\r\n                        {status}\r\n                    </span>\r\n                    <span className=\"card-title\">\r\n                        {complaint.title}\r\n                    </span>\r\n                    <p>Against <span className=\"cp-theme\">{department[0].name}</span></p>\r\n                    <p className=\"grey-text\">{moment(complaint.createdAt.toDate()).calendar()}</p>\r\n                </div>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default ComplaintSummary;","import React from 'react';\r\nimport ComplaintSummary from './ComplaintSummary';\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nconst ComplaintList = ({ complaints }) => {\r\n\tif (complaints.length === 0) {\r\n\t\treturn (\r\n\t\t\t<div className=\"complaint-list section center\">\r\n\t\t\t\t<p style={{ marginLeft: -12 }}>no complaints yet</p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"complaint-list section\">\r\n\t\t\t{complaints && complaints.map(complaint => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Link to={'/complaint/' + complaint.id} key={complaint.id}>\r\n\t\t\t\t\t\t<ComplaintSummary complaint={complaint} />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ComplaintList;","import React from 'react'\r\n\r\nconst Stats = (props) => {\r\n    var totalPending = 0;\r\n    var totalRejected = 0;\r\n    var totalResolved = 0;\r\n    const {complaints} = props;\r\n    for(var i=0; i<complaints.length; i++){\r\n        if(complaints[i].status === 0)\r\n            totalPending++;\r\n        else if(complaints[i].status === 1)\r\n            totalResolved++;\r\n        else\r\n            totalRejected++;\r\n    }\r\n  return (\r\n    <div className=\"section\">\r\n      <div className=\"card z-depth-0\">\r\n        <div className=\"card-content\">\r\n          <span className=\"card-title\">Stats</span>\r\n          <div className=\"card green stat-card z-depth-0\"> \r\n             <span className=\"stat-value\"><b>{totalResolved}</b> resolved complaints</span>\r\n          </div>\r\n          <div className=\"card blue stat-card z-depth-0\"> \r\n             <span className=\"stat-value\"><b>{totalPending}</b> pending complaints</span>\r\n          </div>\r\n          <div className=\"card red stat-card z-depth-0\"> \r\n             <span className=\"stat-value\"><b>{totalRejected}</b> rejected complaints</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Stats","import React, { Component } from 'react';\r\nimport Notifications from './Notifications';\r\nimport ComplaintList from '../complaints/ComplaintList';\r\nimport { connect } from 'react-redux';\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport Stats from './Stats'\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Dashboard extends Component {\r\n    render(){\r\n        const { complaints, auth, notifications, allComplaints } = this.props\r\n        //console.log(complaints);\r\n\r\n        if(!auth.uid){\r\n            return <Redirect to='/signin' />\r\n        }\r\n        return (\r\n            <div className=\"dashboard container cpContent\">\r\n                <div className=\"row\">\r\n                    <div className=\"col s12 m6\">\r\n                        <ComplaintList complaints = { complaints } />\r\n                        <Link to='/view'><div className=\"waves-effect waves-light btn cp-button\" style={{marginLeft: 125}}>View all complaints</div></Link>\r\n                    </div>\r\n                    <div className=\"col s12 m5 offset-m1\">\r\n                        <Notifications notifications = { notifications } />\r\n                        <Stats complaints = { allComplaints } />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    var LIMIT = 3;\r\n\r\n    const isAdmin = state.firebase.profile.isAdmin;\r\n    const id = state.firebase.auth.uid;\r\n    const data = state.firestore.ordered.complaints;\r\n    var filteredData = [];\r\n    var count = 0;\r\n    if(data){\r\n        Object.keys(data).forEach(function(key) {\r\n            if(count<LIMIT+1 && (isAdmin || data[key].complaintFromId === id)){\r\n                filteredData.push(data[key]);\r\n                count++;\r\n            }\r\n        });\r\n    }\r\n\r\n    var unfilteredData = [];\r\n    if(data){\r\n        Object.keys(data).forEach(function(key) {\r\n            if(isAdmin || data[key].complaintFromId === id){\r\n                unfilteredData.push(data[key]);\r\n            }\r\n        });\r\n    }\r\n\r\n    const data2 = state.firestore.ordered.notifications;\r\n    var filteredData2 = [];\r\n    count = 0;\r\n    if(data2){\r\n        Object.keys(data2).forEach(function(key) {\r\n            if(count<LIMIT && (isAdmin || data2[key].userid === id)){\r\n                filteredData2.push(data2[key]);\r\n                count++;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    return{\r\n        complaints: filteredData,\r\n        auth: state.firebase.auth,\r\n        notifications: filteredData2,\r\n        allComplaints: unfilteredData\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    firestoreConnect([\r\n       { collection: 'complaints', orderBy: ['createdAt', 'desc'] },\r\n       { collection: 'notifications', orderBy: ['time', 'desc'] }\r\n    ])\r\n)(Dashboard);","import React from 'react';\r\n\r\nconst Reason = ({ complaint }) => {\r\n\tconst markedBy = complaint ? complaint.markedBy : '';\r\n\tconst content = complaint ? complaint.reason : '';\r\n\tvar markedOn = new Date();\r\n\r\n\tvar status;\r\n\tif (complaint) {\r\n\t\tstatus = complaint.status === 1 ?\r\n\t\t\t<span className=\"new badge\" data-badge-caption=\"\">Resolved</span> :\r\n\t\t\t<span className=\"new badge red\" data-badge-caption=\"\">Rejected</span>;\r\n\t}\r\n\r\n\tif (complaint && complaint.status < 1) {\r\n\t\treturn '';\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"row\" style={{ marginTop: 50 }}>\r\n\t\t\t<h1 style={{ fontSize: 22 }}>Evaluation Report</h1>\r\n\t\t\t<hr />\r\n\t\t\t<div className=\"card-panel z-depth-0 grey darken-3\">\r\n\t\t\t\t{status}\r\n\t\t\t\t<hr style={{ marginTop: 30, marginBottom: 10 }} />\r\n\t\t\t\t<span className=\"white-text\">\r\n\t\t\t\t\t<b>Reason: </b>{content}\r\n\t\t\t\t</span>\r\n\t\t\t\t<div className=\"card-action grey lighten-4 grey-text evaluation-footer\">\r\n\t\t\t\t\t<div>Evaluated By {markedBy} - {complaint.markedByDesignation} </div>\r\n\t\t\t\t\t<div>{markedOn.toString()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport default Reason;","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { markComplaint } from '../../store/actions/markComplaint'\r\n\r\nexport class MarkComplaint extends Component {\r\n\tstate = {\r\n\t\tstatus: '',\r\n\t\tmarkedByDesignation: '',\r\n\t\treason: '',\r\n\t\terrMsg: '',\r\n\t\tcomId: ''\r\n\t}\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = { status: 1, reason: '', markedByDesignation: 'head', comId: this.props.complaint.id }\r\n\t}\r\n\thandleChange = (e) => {\r\n\t\tif (e.target.id === 'status') {\r\n\t\t\tvar num = parseInt(e.target.value);\r\n\t\t\tthis.setState({\r\n\t\t\t\tstatus: num\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\t[e.target.id]: e.target.value\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.markComplaint(this.state);\r\n\t}\r\n\trender() {\r\n\t\tconst { complaint } = this.props;\r\n\t\tconst errMsg = this.state.errMsg;\r\n\t\treturn (\r\n\t\t\t<div className=\"card z-depth-0 grey darken-3\">\r\n\t\t\t\t<div className=\"card-content\">\r\n\t\t\t\t\t<span className=\"card-title white-text\"><p>Admin Options</p></span>\r\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"input-field col s6\">\r\n\t\t\t\t\t\t\t\t<p className=\"white-text\" style={{ marginBottom: 10 }}>Change status to</p>\r\n\t\t\t\t\t\t\t\t<select id=\"status\" className=\"browser-default\" onChange={this.handleChange} >\r\n\t\t\t\t\t\t\t\t\t<option value=\"1\">Resolved</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"2\">Rejected</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"0\">Pending</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"input-field col s6\">\r\n\t\t\t\t\t\t\t\t<p className=\"white-text\" style={{ marginBottom: 10 }}>From {complaint.department}, mark this complaint as</p>\r\n\t\t\t\t\t\t\t\t<select id=\"markedByDesignation\" className=\"browser-default\" onChange={this.handleChange} >\r\n\t\t\t\t\t\t\t\t\t<option value=\"Head\">Head</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"Deputy_Director\">Deputy Director</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"Assistant_Director\">Assistant Director</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"Secretary\">Secretary</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"content\" className=\"reason-label\">Reason</label>\r\n\t\t\t\t\t\t\t\t<textarea id=\"reason\" name=\"content\" cols=\"30\" rows=\"20\" className=\"materialize-textarea add-complaint-details reason-details\" onChange={this.handleChange} data-length=\"120\"></textarea>\r\n\t\t\t\t\t\t\t\t<span className=\"helper-text white-text\" data-error=\"wrong\" data-success=\"right\">Add all the details that you've gone through to solve this issue</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t<button className=\"btn cpBtn lighten-1 z-depth-0 right\">Update</button>\r\n\t\t\t\t\t\t\t\t<div className=\"center red-text\">\r\n\t\t\t\t\t\t\t\t\t{errMsg ? <p>{errMsg}</p> : null}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauth: state.firebase.auth\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tmarkComplaint: (rData) => dispatch(markComplaint(rData))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MarkComplaint);","export const markComplaint = (markData) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore}) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const complaint = getState().firestore.data.complaints[markData.comId];\r\n        firestore.collection('complaints').doc(markData.comId).set({\r\n            ...complaint,\r\n            markedBy: profile.firstName + ' ' + profile.lastName,\r\n            markedOn: new Date(),\r\n            reason: markData.reason,\r\n            status: markData.status,\r\n            markedByDesignation: markData.markedByDesignation\r\n        }).then(()=>{\r\n            dispatch({\r\n                type: 'UPDATE_COMPLAINT_SUCCESS',\r\n            });\r\n        }).catch((err) => {\r\n            dispatch({\r\n                type: 'UPDATE_COMPLAINT_ERROR',\r\n                err\r\n            });\r\n        })\r\n    }\r\n};","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport { Link } from 'react-router-dom';\r\nimport Reason from './Reason';\r\nimport MarkComplaint from '../admin/MarkComplaint';\r\n\r\nconst ComplaintDetails = (props) => {\r\n\tconst { complaint, auth, profile, id } = props;\r\n\t// console.log(profile.isAdmin);\r\n\tif (!auth.uid) {\r\n\t\treturn <Redirect to='/signin' />\r\n\t}\r\n\tvar status = '';\r\n\tvar posterName;\r\n\tvar markOption;\r\n\tif (profile && profile.isAdmin) {\r\n\t\tconst cdata = { complaint, id }\r\n\t\tmarkOption = <MarkComplaint complaint={cdata} />;\r\n\t}\r\n\tif (complaint) {\r\n\t\tstatus = complaint.status === 0 ? 'Pending' : complaint.status === 1 ? 'Resolved' : 'Rejected';\r\n\t\tposterName = complaint.isAnnonymous ? 'Annonymous' : complaint.complaintFromFirstName + \" \" + complaint.complaintFromLastName;\r\n\t}\r\n\tif (complaint) {\r\n\t\treturn (\r\n\t\t\t<div className=\"container section project-details cpContent\">\r\n\t\t\t\t<div className=\"back-button\">\r\n\t\t\t\t\t<Link to='/'><i className=\"material-icons\">chevron_left</i><span style={{ position: 'absolute' }}>back</span></Link>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"card z-depth-0\">\r\n\t\t\t\t\t<div className=\"card-content\">\r\n\t\t\t\t\t\t<span className=\"card-title\"><p style={{ fontSize: 15 }}>Status: {status}</p> {complaint.title}</span>\r\n\t\t\t\t\t\t<p>{complaint.content}</p>\r\n\t\t\t\t\t\t<div className=\"card-action grey lighten-4 grey-text\" style={{ marginTop: 25 }}>\r\n\t\t\t\t\t\t\t<div>Posted by {posterName} against {complaint.department}</div>\r\n\t\t\t\t\t\t\t<div>{moment(complaint.createdAt.toDate()).calendar()}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Reason complaint={complaint} />\r\n\r\n\t\t\t\t{markOption}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\telse {\r\n\t\treturn (\r\n\t\t\t<div className=\"container center cpContent\">\r\n\t\t\t\t<p>LOADING COMPLAINT...</p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\t//console.log(state);\r\n\tconst id = ownProps.match.params.id;\r\n\tconst complaints = state.firestore.data.complaints;\r\n\tconst complaint = complaints ? complaints[id] : null;\r\n\treturn {\r\n\t\tcomplaint: complaint,\r\n\t\tauth: state.firebase.auth,\r\n\t\tprofile: state.firebase.profile,\r\n\t\tid: id\r\n\t}\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps),\r\n\tfirestoreConnect([\r\n\t\t{ collection: 'complaints' }\r\n\t])\r\n)(ComplaintDetails)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { signIn } from '../../store/actions/authActions'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nexport class SignIn extends Component {\r\n\tstate = {\r\n\t\temail: '',\r\n\t\tpassword: ''\r\n\t}\r\n\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.signIn(this.state)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { authError, auth } = this.props;\r\n\t\tif (auth.uid) {\r\n\t\t\treturn <Redirect to='/' />\r\n\t\t}\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"container cpContent\">\r\n\t\t\t\t\t<form onSubmit={this.handleSubmit} className=\"white\">\r\n\t\t\t\t\t\t<h5 className=\"grey-text text-darken-3\">\r\n\t\t\t\t\t\t\tLogin - Citizen Account\r\n                        </h5>\r\n\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t<label htmlFor=\"email\">Email</label>\r\n\t\t\t\t\t\t\t<input type=\"email\" id=\"email\" onChange={this.handleChange} />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t<label htmlFor=\"password\">Password</label>\r\n\t\t\t\t\t\t\t<input type=\"password\" id=\"password\" onChange={this.handleChange} />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t<button className=\"btn cpBtn lighten-1 z-depth-0\">Login</button>\r\n\t\t\t\t\t\t\t<div className=\"center red-text\">\r\n\t\t\t\t\t\t\t\t{authError ? <p>{authError}</p> : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauthError: state.auth.authError,\r\n\t\tauth: state.firebase.auth\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsignIn: (creds) => dispatch(signIn(creds))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { signUp } from '../../store/actions/authActions'\r\n\r\nexport class SignUp extends Component {\r\n    state = {\r\n        email : '',\r\n        password: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        cnic: '',\r\n        address: '',\r\n        city: '',\r\n        province: '',\r\n        jobtitle: '',\r\n        jobcompany: '',\r\n        phonenumber: '',\r\n        errMsg: 'Please fill in all the details first'\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value \r\n        })\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        var regex = '';\r\n        regex = /.+@.+\\.[A-Za-z]+$/;\r\n        if(!regex.test(this.state.email)){\r\n            this.setState({\r\n                errMsg: 'Your email address is not correct!'\r\n            })\r\n            return;\r\n        }\r\n        regex =  /^[a-zA-Z]+$/ ;\r\n        if(!(regex.test(this.state.firstName) || regex.test(this.state.lastName))){\r\n            this.setState({\r\n                errMsg: 'Your first name or last name is not correct!'\r\n            })\r\n            return;\r\n        }\r\n        regex = /^\\(?([0-9]{4})\\)?[-. ]?([0-9]{7})$/;\r\n        if(!(regex.test(this.state.phonenumber))){\r\n            this.setState({\r\n                errMsg: 'Your phone number is badly formatted. Make sure to follow 03xx-123xxxx format!'\r\n            })\r\n            return;\r\n        }\r\n        regex = /^\\(?([0-9]{5})\\)?[-. ]?([0-9]{7})[-. ]?([0-9]{1})$/;\r\n        if(!(regex.test(this.state.cnic))){\r\n            this.setState({\r\n                errMsg: 'Your CNIC number is badly formatted. Make sure to follow xxxxx-xxxxxxx-x format!'\r\n            })\r\n            return;\r\n        }\r\n        this.setState({\r\n            errMsg: ''\r\n        })\r\n        this.props.signUp(this.state);\r\n    }\r\n    render() {\r\n        const { auth, authError } = this.props;\r\n        const errMsg = this.state.errMsg;\r\n        if(auth.uid){\r\n            return <Redirect to='/' />\r\n        }\r\n        return (\r\n            <div>\r\n                <div className=\"container cpContent\">\r\n                    <form onSubmit={this.handleSubmit} className=\"white\">\r\n                        <h5 className=\"grey-text text-darken-3\">\r\n                            Register\r\n                        </h5>\r\n                        <p>Account</p>\r\n                        <div className=\"input-field\">\r\n                            <label htmlFor=\"email\">Email</label>\r\n                            <input type=\"email\" id=\"email\" onChange= {this.handleChange} />\r\n                        </div>\r\n\r\n                        <div className=\"input-field\">\r\n                            <label htmlFor=\"password\">Password</label>\r\n                            <input type=\"password\" id=\"password\" onChange= {this.handleChange} />\r\n                        </div>\r\n                        <p style={{ marginTop: 40 }}>Personal</p>\r\n                        <div className=\"row\">\r\n                            <div className=\"col s12 m6\">\r\n                                <div className=\"input-field\">\r\n                                    <label htmlFor=\"firstName\">First Name</label>\r\n                                    <input type=\"text\" id=\"firstName\" onChange= {this.handleChange} />\r\n                                    <span className=\"helper-text\" data-error=\"wrong\" data-success=\"right\">As mentioned on CNIC</span>\r\n                                </div> \r\n                            </div> \r\n                        \r\n                            <div className=\"col s12 m6\">\r\n                                <div className=\"input-field\">\r\n                                    <label htmlFor=\"lastName\">Last Name</label>\r\n                                    <input type=\"text\" id=\"lastName\" onChange= {this.handleChange} />\r\n                                    <span className=\"helper-text\" data-error=\"wrong\" data-success=\"right\">As mentioned on CNIC</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"row\">\r\n                            <div className=\"col s12 m6\">\r\n                                <div className=\"input-field\">\r\n                                    <label htmlFor=\"phonenumber\">Mobile Number</label>\r\n                                    <input type=\"text\" id=\"phonenumber\" onChange= {this.handleChange} />\r\n                                    <span className=\"helper-text\" data-error=\"wrong\" data-success=\"right\">Format: 0336-4251234</span>\r\n                                </div> \r\n                            </div> \r\n                        \r\n                            <div className=\"col s12 m6\">\r\n                                <div className=\"input-field\">\r\n                                    <label htmlFor=\"cnic\">CNIC Number</label>\r\n                                    <input type=\"text\" id=\"cnic\" onChange= {this.handleChange} />\r\n                                    <span className=\"helper-text\" data-error=\"wrong\" data-success=\"right\">Format: 35202-1234561-9</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"input-field\">\r\n                                <label htmlFor=\"address\">Complete Home Address</label>\r\n                                <input type=\"text\" id=\"address\" onChange= {this.handleChange} />\r\n                                <span className=\"helper-text\" data-error=\"wrong\" data-success=\"right\">Include city and province name</span>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"input-field\">\r\n                            <button className=\"btn cpBtn lighten-1 z-depth-0\">Register</button>\r\n                            <div className=\"center red-text\">\r\n                                { authError ? <p>{authError}</p> : null }\r\n                                { errMsg ? <p>{errMsg}</p> : null }\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>  \r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n      auth: state.firebase.auth,\r\n      authError: state.auth.authError\r\n    }\r\n  }\r\n\r\n  const mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      signUp: (info) => dispatch(signUp(info))\r\n    }\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { addComplaint } from '../../store/actions/complaintActions'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Link } from 'react-router-dom';\r\nimport departments from '../../config/departments'\r\n\r\nexport class AddComplaint extends Component {\r\n\tstate = {\r\n\t\ttitle: '',\r\n\t\tcontent: '',\r\n\t\taddress: '',\r\n\t\terrMsg: 'please fill in the details',\r\n\t\tdepartment: this.props.match.params.slug,\r\n\t\tstatus: 0,\r\n\t\tmarkedBy: '',\r\n\t\tmarkedOn: '',\r\n\t\treason: '',\r\n\t\tisAnnonymous: 0\r\n\t}\r\n\thandleChange = (e) => {\r\n\t\tconsole.log(e.target.checked);\r\n\t\tif (e.target.id !== 'annonymous' && e.target.value.length < 5) {\r\n\t\t\tthis.setState({\r\n\t\t\t\terrMsg: [e.target.id] + ' cannot be less than 5 letters!'\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\terrMsg: ''\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (e.target.id !== 'annonymous') {\r\n\t\t\tthis.setState({\r\n\t\t\t\t[e.target.id]: e.target.value\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisAnnonymous: e.target.checked\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (this.state.title.length < 5 || this.state.content.length < 5 || this.state.address.length < 5) {\r\n\t\t\tthis.setState({\r\n\t\t\t\terrMsg: 'Details cannot be less than 5 letters!'\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.title.length > 50 || this.state.content.length > 1000 || this.state.address.length > 250) {\r\n\t\t\tthis.setState({\r\n\t\t\t\terrMsg: 'Too long content. Make sure that title is less than 50 characters and details are less than 1000 characters.'\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.errMsg === '') {\r\n\t\t\tthis.props.addComplaint(this.state);\r\n\t\t\tthis.props.history.push('/added');\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst { auth } = this.props;\r\n\t\tif (!auth.uid) {\r\n\t\t\treturn <Redirect to='/signin' />\r\n\t\t}\r\n\t\tconst slug = this.props.match.params.slug;\r\n\t\tconst department = departments.filter(item => {\r\n\t\t\treturn Object.keys(item).some(key =>\r\n\t\t\t\titem[key].toLowerCase().includes(slug)\r\n\t\t\t);\r\n\t\t});\r\n\t\tif (department.length === 0) {\r\n\t\t\tthis.props.history.push('/selectdepartment');\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>error</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\tconsole.log(department);\r\n\t\tconst errMsg = this.state.errMsg;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"container cpContent\">\r\n\t\t\t\t\t<div className=\"back-button\" style={{ marginTop: 20 }}>\r\n\t\t\t\t\t\t<Link to='/selectdepartment'><i className=\"material-icons\">chevron_left</i><span style={{ position: 'absolute' }}>back</span></Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<form onSubmit={this.handleSubmit} className=\"white\">\r\n\t\t\t\t\t\t<h5 className=\"grey-text text-darken-3\">\r\n\t\t\t\t\t\t\tAdd a Complaint - <span className=\"add-complaint-department\">{department[0].name}</span>\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t<label htmlFor=\"title\">Title</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" id=\"title\" onChange={this.handleChange} data-length=\"50\" />\r\n\t\t\t\t\t\t\t<span className=\"helper-text\" data-error=\"wrong\" data-success=\"right\">Add up to 50 characters in the title</span>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t<label htmlFor=\"address\">Address</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" id=\"address\" onChange={this.handleChange} />\r\n\t\t\t\t\t\t\t<span className=\"helper-text\" data-error=\"wrong\" data-success=\"right\">Complete address of the location where you find these irregularities</span>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"switch\">\r\n\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\tShow My Name\r\n                            <input id=\"annonymous\" onChange={this.handleChange} type=\"checkbox\" />\r\n\t\t\t\t\t\t\t\t<span className=\"lever\"></span>\r\n\t\t\t\t\t\t\t\tRemain Annonymous\r\n                            </label>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t<label htmlFor=\"content\">Complaint Details</label>\r\n\t\t\t\t\t\t\t<textarea name=\"content\" id=\"content\" cols=\"30\" rows=\"20\" className=\"materialize-textarea add-complaint-details\" onChange={this.handleChange} data-length=\"120\"></textarea>\r\n\t\t\t\t\t\t\t<span className=\"helper-text\" data-error=\"wrong\" data-success=\"right\">Add all the details for the authorities to properly investigate your problem</span>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t<button className=\"btn cpBtn lighten-1 z-depth-0\">Submit</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"center red-text\">\r\n\t\t\t\t\t\t\t{errMsg ? <p>{errMsg}</p> : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\t//console.log(state);\r\n\treturn {\r\n\t\tauth: state.firebase.auth\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddComplaint: (complaint) => dispatch(addComplaint(complaint))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddComplaint)\r\n","export const addComplaint = (complaint) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore}) => {\r\n\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const complaintFrom = getState().firebase.auth.uid;\r\n\r\n        firestore.collection('complaints').add({\r\n            ...complaint,\r\n            complaintFromFirstName: profile.firstName,\r\n            complaintFromLastName: profile.lastName,\r\n            complaintFromId: complaintFrom,\r\n            createdAt: new Date()\r\n        }).then(()=>{\r\n            dispatch({\r\n                type: 'ADD_COMPLAINT_SUCCESS',\r\n            });\r\n        }).catch((err) => {\r\n            dispatch({\r\n                type: 'ADD_COMPLAINT_ERROR',\r\n                err\r\n            });\r\n        })\r\n    }\r\n};","import React from 'react';\r\n\r\nconst DepartmentBox = ({ department }) => {\r\n\treturn (\r\n\t\t<div className=\"card z-depth-0 complaint-summary col s12 m6 l3 department-box\">\r\n\t\t\t<div className=\"card-content grey-text text-darken-3\">\r\n\t\t\t\t<span><i className=\"material-icons department-icon\">{department.icon}</i></span>\r\n\t\t\t\t< hr className=\"department-icon-separator\" />\r\n\t\t\t\t<span className=\"card-title department-name\">\r\n\t\t\t\t\t{department.name}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DepartmentBox;","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport DepartmentBox from './DepartmentBox'\r\nimport { Redirect } from 'react-router-dom'\r\nimport departments from '../../config/departments'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport class ChooseDept extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n    fDept: ''\r\n  }\r\n\r\n  constructor() {\r\n    super()\r\n    this.state = { searchQuery: '', fDept: departments }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      searchQuery: e.target.value\r\n    })\r\n  }\r\n  render() {\r\n    const { auth } = this.props;\r\n    if (!auth.uid) {\r\n      return <Redirect to='/signin' />\r\n    }\r\n    const { searchQuery, fDept } = this.state;\r\n    const lowercasedFilter = searchQuery.toLowerCase();\r\n    const filteredData = fDept.filter(item => {\r\n      return Object.keys(item).some(key =>\r\n        item[key].toLowerCase().includes(lowercasedFilter)\r\n      );\r\n    });\r\n    console.log(filteredData);\r\n    return (\r\n      <div>\r\n        <div className=\"container cpContent\">\r\n          <div className=\"complaint-heading\">\r\n            <h1>Complaint Form</h1>\r\n          </div>\r\n          <div>\r\n            <div className=\"row\" style={{ marginTop: 0 }}>\r\n              <div className=\"col s12 m3 complaint-department-heading\">\r\n                <h2>Select Department</h2>\r\n              </div>\r\n              <div className=\"col s12 m9 offset-m3 complaint-department-separator\">\r\n                {/* <p className=\"hide\"></p> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div className=\"row\">\r\n              <div className=\"input-field col offset-m4 w-sm\">\r\n                <input id=\"searchText\" type=\"text\" placeholder=\"Search\" className=\"validate\" onChange={this.handleChange} />\r\n                <span><i className=\"material-icons searchIcon\">search</i></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row departments-list section\">\r\n            {filteredData && filteredData.map(department => {\r\n              return (\r\n                <Link to={'/add/' + department.slug} key={department.slug}>\r\n                  <DepartmentBox department={department} />\r\n                </Link>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  //console.log(state);\r\n  return {\r\n    auth: state.firebase.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ChooseDept);","import React from 'react';\r\nimport ComplaintSummary from './ComplaintSummary';\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst viewcomplaints = (props) => {\r\n\tconst { complaints, auth } = props;\r\n\tif (!auth.uid) {\r\n\t\treturn <Redirect to='/signin' />\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"complaint-list section view-complaints\">\r\n\t\t\t{complaints && complaints.map(complaint => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Link to={'/complaint/' + complaint.id} key={complaint.id}>\r\n\t\t\t\t\t\t<ComplaintSummary complaint={complaint} />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\tconsole.log(state.firebase.auth.uid)\r\n\tconst id = state.firebase.auth.uid;\r\n\tconst isAdmin = state.firebase.profile.isAdmin;\r\n\tconst data = state.firestore.ordered.complaints;\r\n\tvar filteredData = [];\r\n\tif (data) {\r\n\t\tObject.keys(data).forEach(function (key) {\r\n\t\t\tif (isAdmin || data[key].complaintFromId === id)\r\n\t\t\t\tfilteredData.push(data[key]);\r\n\t\t});\r\n\t}\r\n\tconsole.log(filteredData)\r\n\treturn {\r\n\t\tcomplaints: filteredData,\r\n\t\tauth: state.firebase.auth\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps),\r\n\tfirestoreConnect([\r\n\t\t{ collection: 'complaints', orderBy: ['createdAt', 'desc'] },\r\n\t])\r\n)(viewcomplaints);;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nconst ComplaintAdded = () => {\r\n    return (\r\n            <div className=\"cpContent\">\r\n                <i className=\"material-icons success-icon cp-theme\">done</i>\r\n                <p className=\"center success-text\" style={{width: 574}}>Your complaint has been added. Please wait while the authorities accept and resolve your complaint. This may take a little time to complete.</p>\r\n                <Link to='/'><div className=\"waves-effect waves-light btn cp-button success-btn\">Go back to dashboard</div></Link>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default ComplaintAdded;","import React, { Component } from 'react';\r\nimport Notifications from '../dashboard/Notifications';\r\nimport { connect } from 'react-redux';\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nclass History extends Component {\r\n    render(){\r\n        const { auth, notifications } = this.props\r\n        //console.log(complaints);\r\n\r\n        if(!auth.uid){\r\n            return <Redirect to='/signin' />\r\n        }\r\n        return (\r\n            <div className=\"dashboard container cpContent\">\r\n                <div className=\"row\">\r\n                        <Notifications notifications = { notifications } />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const id = state.firebase.auth.uid;\r\n    const data2 = state.firestore.ordered.notifications;\r\n    var filteredData2 = [];\r\n    if(data2){\r\n        Object.keys(data2).forEach(function(key) {\r\n            if(data2[key].userid === id){\r\n                filteredData2.push(data2[key]);\r\n            }\r\n        });\r\n    }\r\n    return{\r\n        auth: state.firebase.auth,\r\n        notifications: filteredData2\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    firestoreConnect([\r\n       { collection: 'notifications', orderBy: ['time', 'desc'] }\r\n    ])\r\n)(History);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { signIn } from '../../store/actions/authActions'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nexport class AdminLogin extends Component {\r\n\tstate = {\r\n\t\temail: '',\r\n\t\tpassword: ''\r\n\t}\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: e.target.value\r\n\t\t})\r\n\t}\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.signIn(this.state)\r\n\t}\r\n\trender() {\r\n\t\tconst { authError, auth } = this.props;\r\n\t\tif (auth.uid) {\r\n\t\t\treturn <Redirect to='/' />\r\n\t\t}\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"container cpContent\">\r\n\t\t\t\t\t<form onSubmit={this.handleSubmit} className=\"white\">\r\n\t\t\t\t\t\t<h5 className=\"grey-text text-darken-3\">\r\n\t\t\t\t\t\t\tLogin - Admin Only Account\r\n                        </h5>\r\n\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t<label htmlFor=\"email\">Email</label>\r\n\t\t\t\t\t\t\t<input type=\"email\" id=\"email\" onChange={this.handleChange} />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t<label htmlFor=\"password\">Password</label>\r\n\t\t\t\t\t\t\t<input type=\"password\" id=\"password\" onChange={this.handleChange} />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t<button className=\"btn cpBtn lighten-1 z-depth-0\">Login</button>\r\n\t\t\t\t\t\t\t<div className=\"center red-text\">\r\n\t\t\t\t\t\t\t\t{authError ? <p>{authError}</p> : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\tconsole.log(state);\r\n\treturn {\r\n\t\tauthError: state.auth.authError,\r\n\t\tauth: state.firebase.auth\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsignIn: (creds) => dispatch(signIn(creds))\r\n\t}\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminLogin);\r\n\r\n","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport Navbar from './components/layout/Navbar';\r\nimport Dashboard from './components/dashboard/Dashboard';\r\nimport ComplaintDetails from './components/complaints/ComplaintDetails';\r\nimport SignIn from './components/auth/SignIn';\r\nimport SignUp from './components/auth/SignUp';\r\nimport AddComplaint from './components/complaints/AddComplaint'\r\nimport ChooseDept from './components/complaints/ChooseDept';\r\nimport viewcomplaints from './components/complaints/viewcomplaints';\r\nimport ComplaintAdded from './components/complaints/ComplaintAdded';\r\nimport History from './components/complaints/History';\r\nimport AdminLogin from './components/admin/AdminLogin';\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"App\">\r\n        <Navbar />\r\n\r\n        <Switch>\r\n          <Route exact path='/' component={Dashboard} ></Route>\r\n          <Route path='/complaint/:id' component={ComplaintDetails} ></Route>\r\n          <Route path='/signin' component={SignIn} ></Route>\r\n          <Route path='/register' component={SignUp} ></Route>\r\n          <Route path='/add/:slug' component={AddComplaint} ></Route>\r\n          <Route path='/selectdepartment' component={ChooseDept} ></Route>\r\n          <Route path='/view' component={viewcomplaints} ></Route>\r\n          <Route path='/added' component={ComplaintAdded} ></Route>\r\n          <Route path='/history' component={History} ></Route>\r\n          <Route path='/loginAsAdmin' component={AdminLogin} ></Route>\r\n        </Switch>\r\n\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","    \r\nconst initState = {\r\n  authError: null\r\n}\r\n\r\nconst authReducer = (state = initState, action) => {\r\n  switch(action.type) {\r\n    case 'LOGIN_ERROR':\r\n      return {\r\n        ...state,\r\n        authError: action.err\r\n      }\r\n    case 'LOGIN_SUCCESS':\r\n      console.log('LOGIN SUCCESSFUL!');\r\n      return {\r\n        ...state,\r\n        authError: null\r\n      }\r\n    case 'SIGNOUT_SUCCESS':\r\n      console.log('SIGNOUT SUCCESSFUL!');\r\n      return state;\r\n    case 'SIGNUP_SUCCESS':\r\n      console.log('SIGNUP SUCCESSFUL!');\r\n      return {\r\n        ...state,\r\n        authError: null\r\n      }\r\n    case 'SIGNUP_ERROR':\r\n      console.log('SIGNUP FAILED!');\r\n      return {\r\n        ...state,\r\n        authError: action.err.message\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;","const initState = {}\r\n\r\nconst complaintReducer = (state = initState, action) => {\r\n    switch (action.type){\r\n        case 'ADD_COMPLAINT_SUCCESS':\r\n            console.log(\"COMPLAINT CREATED!\", action.complaint);\r\n            break;\r\n        case 'ADD_COMPLAINT_ERROR':\r\n            console.log(\"COMPLAINT FAILED!\", action.err);\r\n            break;\r\n        case 'UPDATE_COMPLAINT_SUCCESS':\r\n            console.log(\"COMPLAINT STATUS CHANGE SUCCESSFUL!\", action.err);\r\n            break;\r\n        case 'UPDATE_COMPLAINT_ERROR':\r\n            console.log(\"COMPLAINT STATUS FAILED!\", action.err);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default complaintReducer;","    \r\nimport authReducer from './authReducer'\r\nimport complaintReducer from './complaintReducer'\r\nimport { combineReducers } from 'redux'\r\nimport { firestoreReducer } from 'redux-firestore';\r\nimport { firebaseReducer } from 'react-redux-firebase'\r\n \r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  complaint: complaintReducer,\r\n  firestore: firestoreReducer,\r\n  firebase: firebaseReducer\r\n});\r\n\r\nexport default rootReducer;","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\n// Initialize Firebase\r\nvar config = {\r\n  apiKey: \"AIzaSyBLZ9jEcx1OI-zFPImItXlskTjxnW6rb5I\",\r\n  authDomain: \"pm-citizen-portal-4f018.firebaseapp.com\",\r\n  databaseURL: \"https://pm-citizen-portal-4f018.firebaseio.com\",\r\n  projectId: \"pm-citizen-portal-4f018\",\r\n  storageBucket: \"pm-citizen-portal-4f018.appspot.com\",\r\n  messagingSenderId: \"712007907005\",\r\n  appId: \"1:712007907005:web:b01910c35346aeb8\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\nfirebase.firestore().settings({ timestampsInSnapshots: true });\r\n\r\nexport default firebase;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { createStore, applyMiddleware, compose } from 'redux'\r\nimport rootReducer from './store/reducers/rootReducer'\r\nimport { Provider } from 'react-redux'\r\nimport thunk from 'redux-thunk';\r\nimport { reduxFirestore, getFirestore } from 'redux-firestore'\r\nimport { reactReduxFirebase, getFirebase } from 'react-redux-firebase'\r\nimport firebaseConfig from './config/firebaseConfig'\r\n\r\n\r\nconst store = createStore(rootReducer,\r\n    compose(\r\n      applyMiddleware(thunk.withExtraArgument({getFirebase, getFirestore})),\r\n      reactReduxFirebase(firebaseConfig, {userProfile: 'users', useFirestoreForProfile: true, attachAuthIsReady: true}), // redux binding for firebase\r\n      reduxFirestore(firebaseConfig) // redux bindings for firestore\r\n    )\r\n  );\r\n  ReactDOM.render(<p className=\"center\" style={{marginTop: 310}}>Loading!</p>, document.getElementById('root'))\r\n  store.firebaseAuthIsReady.then(() => {\r\n    ReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'))\r\n    serviceWorker.unregister();\r\n  })\r\n\r\n//ReactDOM.render(<Provider store={store}> <App /> </Provider>, document.getElementById('root'));\r\n\r\n\r\n\r\n"],"sourceRoot":""}